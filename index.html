<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>PagFesta - Pedido</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 600px;
    margin: 0 auto;
    padding: 15px;
    background: #fafafa;
  }
  h1 {
    text-align: center;
    color: #d63333;
  }
  .produto {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 12px;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 6px;
    background: white;
  }
  .produto label {
    flex: 1;
  }
  .qtd-container {
    display: flex;
    align-items: center;
  }
  .qtd-container button {
    width: 28px;
    height: 28px;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
    border: 1px solid #d63333;
    background: #fff0f0;
    color: #d63333;
    border-radius: 4px;
    margin: 0 5px;
    user-select: none;
  }
  .qtd-container input[type=number] {
    width: 40px;
    text-align: center;
    border: 1px solid #d63333;
    border-radius: 4px;
    font-size: 16px;
    padding: 4px;
  }
  button#btnGerarPagamento {
    display: block;
    margin: 20px auto 0;
    background: #d63333;
    color: white;
    font-size: 18px;
    padding: 10px 25px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
  }
  button#btnGerarPagamento:hover {
    background: #b52b2b;
  }
  #resumoPedido, #telaPagamento, #areaQRCode {
    margin-top: 30px;
    padding: 15px;
    background: white;
    border-radius: 8px;
    border: 1px solid #ccc;
  }
  #resumoPedido p {
    margin: 6px 0;
  }
  #resumoPedido strong {
    font-size: 18px;
  }
  #btnAvancarPagamento, #btnGerarQRCode, #btnNovoPedido,
  #btnVoltarInicioResumo, #btnVoltarResumo {
    background: #d63333;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 15px;
  }
  #btnAvancarPagamento:hover,
  #btnGerarQRCode:hover,
  #btnNovoPedido:hover,
  #btnVoltarInicioResumo:hover,
  #btnVoltarResumo:hover {
    background: #b52b2b;
  }
  #telaPagamento label {
    display: block;
    margin-bottom: 8px;
    font-size: 16px;
    cursor: pointer;
  }
  #qrCanvas {
    display: block;
    margin: 20px auto;
  }
  #numeroPedidoDisplay {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    margin-top: 8px;
    color: #d63333;
  }
  #linkAdmin {
    position: fixed;
    top: 12px;
    right: 12px;
    font-weight: bold;
    background: #d63333;
    color: white;
    padding: 6px 12px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 14px;
    z-index: 10;
  }
  #linkAdmin:hover {
    background: #b52b2b;
  }
</style>
</head>
<body>

<a id="linkAdmin" href="admin.html">Administrador</a>

<h1>Faça seu pedido</h1>

<form id="formPedido">
  <div class="produto">
    <label for="qtdEspeto">Espeto de Frango - R$ 5,00</label>
    <div class="qtd-container">
      <button type="button" class="btnQtd" data-target="qtdEspeto">-</button>
      <input type="number" id="qtdEspeto" min="0" value="0" />
      <button type="button" class="btnQtd" data-target="qtdEspeto">+</button>
    </div>
  </div>
  <div class="produto">
    <label for="qtdSuco">Suco - R$ 4,00</label>
    <div class="qtd-container">
      <button type="button" class="btnQtd" data-target="qtdSuco">-</button>
      <input type="number" id="qtdSuco" min="0" value="0" />
      <button type="button" class="btnQtd" data-target="qtdSuco">+</button>
    </div>
  </div>
  <div class="produto">
    <label for="qtdAgua">Água - R$ 3,00</label>
    <div class="qtd-container">
      <button type="button" class="btnQtd" data-target="qtdAgua">-</button>
      <input type="number" id="qtdAgua" min="0" value="0" />
      <button type="button" class="btnQtd" data-target="qtdAgua">+</button>
    </div>
  </div>

  <button id="btnGerarPagamento" type="submit">Gerar pagamento</button>
</form>

<!-- Tela resumo do pedido -->
<div id="resumoPedido" style="display:none;">
  <h2>Resumo do Pedido</h2>
  <div id="itensResumo"></div>
  <p><strong>Total: R$ <span id="totalResumo">0.00</span></strong></p>
  <button id="btnAvancarPagamento">Avançar para pagamento</button>
  <button id="btnVoltarInicioResumo" style="margin-left:10px;">Voltar</button>
</div>

<!-- Tela de seleção pagamento -->
<div id="telaPagamento" style="display:none;">
  <h2>Escolha a forma de pagamento</h2>
  <label><input type="radio" name="pagamento" value="pix" /> Pix</label>
  <label><input type="radio" name="pagamento" value="cartao" /> Cartão de Crédito</label>
  <label><input type="radio" name="pagamento" value="boleto" /> Boleto</label>
  <button id="btnGerarQRCode">Gerar QR Code</button>
  <button id="btnVoltarResumo" style="margin-left:10px;">Voltar</button>
</div>

<!-- Área do QR Code -->
<div id="areaQRCode" style="display:none; text-align:center;">
  <canvas id="qrCanvas" width="250" height="250"></canvas>
  <div id="numeroPedidoDisplay"></div>
  <button id="btnNovoPedido" style="margin-top:20px;">Gerar novo pedido</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script>
  const produtos = [
    { id: 'qtdEspeto', nome: 'Espeto de Frango', preco: 5.0 },
    { id: 'qtdSuco', nome: 'Suco', preco: 4.0 },
    { id: 'qtdAgua', nome: 'Água', preco: 3.0 }
  ];

  const formPedido = document.getElementById('formPedido');
  const resumoDiv = document.getElementById('resumoPedido');
  const itensResumoDiv = document.getElementById('itensResumo');
  const totalResumoSpan = document.getElementById('totalResumo');
  const btnAvancarPagamento = document.getElementById('btnAvancarPagamento');
  const btnVoltarInicioResumo = document.getElementById('btnVoltarInicioResumo');
  const telaPagamento = document.getElementById('telaPagamento');
  const btnGerarQRCode = document.getElementById('btnGerarQRCode');
  const btnVoltarResumo = document.getElementById('btnVoltarResumo');
  const areaQRCode = document.getElementById('areaQRCode');
  const qrCanvas = document.getElementById('qrCanvas');
  const numeroPedidoDisplay = document.getElementById('numeroPedidoDisplay');
 
